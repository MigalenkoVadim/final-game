var home=function(t){var e={};function n(a){if(e[a])return e[a].exports;var l=e[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)n.d(a,l,function(e){return t[e]}.bind(null,l));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t){t.exports={cat:["кот","кошка","котик"],dog:["собака","пес","песик"],mouse:["мышь","мышка"],elephant:["слон","слоник"],lion:["лев","львица"],tiger:["тигр"],hippo:["гиппопотам","бегемот"],zebra:["зебра"],raccon:["енот"],badger:["барсук"]}},function(t,e,n){"use strict";n.r(e);const a=["Мерзкий","Жуткий","Вонючий","Жалкий","Огромный","Розовый"],l=["Гнолл","Орк","Бард","Приятель","Тролль","Василиск"],i=["Петька","Васька","Святозар","Архимонд","Алеша","Горыныч"];function o(t){return Math.floor(Math.random()*t)}function s(){$(".field").append("\n        <img class='mud attack' id='mud' src='./style/img/mud.png'>\n    "),new Promise(function(t){setTimeout(function(){let e=new Audio;e.src="./style/audio/audio-monster.mp3",e.autoplay=!0,t()},10)}).then(function(){return new Promise(function(t){setTimeout(function(){let e=Date.now(),n=setInterval(function(){let t=Date.now()-e;$("#mud").css("right",`${170+t/2+"px"}`),$("#mud").css("width",`${50+t/30+"px"}`),$("#mud").css("height",`${50+t/30+"px"}`),t>1650&&clearInterval(n)},20);t()},500)})}).then(function(){return new Promise(function(t){setTimeout(function(){!function(){let t;(t=7==$(".player-health").html().length?+$(".player-health").html().substr(0,3)-(Math.floor(21*Math.random())+15):6==$(".player-health").html().length?+$(".player-health").html().substr(0,2)-(Math.floor(21*Math.random())+15):+$(".player-health").html().substr(0,1)-(Math.floor(21*Math.random())+15))<0&&(t=0),$(".player-health").html(`${t}/100`),$(".player-health").css("width",`${3*t}`),$(".attack").remove(),0==t?function(){(function(){let t=r+" monsters - "+N.lastName+" "+N.firstName+" ("+N.email+").";if(0==c.length)c.push(t);else if(c.length<5){let e=c.length;for(let n=0;n<=e;n++){if(parseFloat(c[n])<parseFloat(t)){let e=c[n];c[n]=t,t=e}void 0==c[n]&&void 0!==t&&(c[n]=t)}}else for(let e=0;e<=5;e++)if(parseFloat(c[e])<parseFloat(t)){let n=c[e];c[e]=t,t=n}localStorage.setItem("records",JSON.stringify(c))})(),$(".battlefield").addClass("shadow"),$(".battlefield").html("<section class='records-wrapper'>\n            <h1>You lose.</h1>\n            <div class='records'>\n                <h2> Records: </h2>\n                <ol>\n                  <li></li>\n                  <li></li>\n                  <li></li>\n                  <li></li>\n                  <li></li>\n                </ol>\n            </div>\n        </section>\n        <div class='start new-start' style='margin: -100px auto'>New Game!</div>\n        <div class='start login' style='margin: 130px auto'>New Login!</div>");for(let t=1;t<=c.length;t++)$(`.records li:nth-child(${t})`).html(JSON.parse(localStorage.getItem("records"))[`${t-1}`]);$(".new-start").click(M),$(".login").click(function(){$(".health-bars").remove(),$(".field").remove(),T()})}():setTimeout(S,1e3)}(),t()},2600)})})}let r=0;let c=[];function m(){let t;(t=7==$(".monster-health").html().length?+$(".monster-health").html().substr(0,3)-(Math.floor(21*Math.random())+30):6==$(".monster-health").html().length?+$(".monster-health").html().substr(0,2)-(Math.floor(21*Math.random())+30):+$(".monster-health").html().substr(0,1)-(Math.floor(21*Math.random())+30))<0&&(t=0),$(".monster-health").html(`${t}/100`),$(".monster-health").css("width",`${3*t}`),$(".attack").remove(),0==t?(r++,$(".battlefield").addClass("shadow"),$(".battlefield").html(`\n        <section class='win-wrapper'>\n            <p>Congratilations!</p>\n            <p>Monster killed: ${r}.</p>\n            <div class='fight' style='margin-top: 100px'>Next fight!</div>\n        </section>\n    `),$(".fight").click(function(){$(".health-bars").remove(),$(".field").remove(),M()})):setTimeout(s,1500)}function d(){$(".field").append("<img src='./style/img/plus.png' alt='hero' class='plus attack'> "),f(1).then(function(){return new Promise(function(t){setTimeout(function(){let e=Date.now(),n=setInterval(function(){let t=Date.now()-e;$(".plus").css("left",`${130+t/2+"px"}`),t>1700&&clearInterval(n)},20);t()},10)})}).then(function(){return h()})}function u(){$(".field").append("<img src='./style/img/english-spell.png' alt='spell' class='dictionary attack'> "),f(2).then(function(){return new Promise(function(t){setTimeout(function(){let e=Date.now(),n=setInterval(function(){let t=Date.now()-e;$(".dictionary").css("left",`${130+t/2+"px"}`),$(".dictionary").css("bottom",`${190+t/4+"px"}`),t>850&&(clearInterval(n),e=Date.now(),n=setInterval(function(){t=Date.now()-e,$(".dictionary").css("left",`${555+t/2+"px"}`),$(".dictionary").css("bottom",`${402-t/4+"px"}`),t>850&&clearInterval(n)},20))});t()},100)})}).then(function(){return h()})}function f(t){return new Promise(function(e){setTimeout(function(){let n=new Audio;1==t?n.src="./style/audio/audio-plus.mp3":2==t&&(n.src="./style/audio/audio-english.mp3"),n.autoplay=!0,e()},500)})}function h(){return new Promise(function(t){setTimeout(function(){m(),t()},2100)})}null!==localStorage.getItem("records")&&(c=JSON.parse(localStorage.getItem("records")));let p=["+","-","*","/"][y(0,3)],g=0,v=0,b=0;function w(){!function(){switch(p){case"+":g=y(1,99),v=y(1,99),b=g+v;break;case"-":g=y(1,99),v=y(1,99),b=g-v;break;case"*":g=y(1,99),v=y(2,9),b=g*v;break;case"/":b=y(1,99),v=y(2,9),g=v*b}}(),$(".battlefield").html(`\n    <div class='modal-window'>\n        <p> ${g} ${p} ${v} = <input type="text" size="2" id='player-result' value=''> ?</p>\n        <input type="button" id='submit' value="Ответить">\n    </div>\n`),$("#submit").click(function(){b==$("#player-result").val()?($(".modal-window").css("background","green"),setTimeout(function(){$(".modal-window").remove(),$(".battlefield").removeClass("shadow"),d()},1e3)):($(".modal-window").css("background","red"),setTimeout(function(){$(".modal-window").remove(),$(".battlefield").removeClass("shadow")},1e3),setTimeout(s,2e3))})}function y(t,e){return Math.floor(Math.random()*(e-t+1))+t}var x=n(0);let I;function k(){$(".fight").remove(),$(".battlefield").addClass("shadow"),$(".battlefield").html("\n        <table class='modal-table'>\n            <tr><td id='math'>Арифметическое заклинание</td></tr>\n            <tr><td id='english'>Английское заклинание</td></tr>\n        </table>\n    "),$("#math").click(function(){w()}),$("#english").click(function(){I=Object.keys(x)[Math.floor(10*Math.random())],$(".battlefield").html(`\n        <div class='modal-window'>\n            <p class='translate'>Переведите слово <i><b>${I}</b></i> на русский.</p>\n            <input type="text" size="5" id='player-answer' value=''>\n            <input type="button" id='submit' value="Ответить">\n        </div>\n    `),$("#submit").click(function(){-1!==x[I].indexOf($("#player-answer").val())?($(".modal-window").css("background","green"),setTimeout(function(){$(".modal-window").remove(),$(".battlefield").removeClass("shadow"),u()},1e3)):($(".modal-window").css("background","red"),setTimeout(function(){$(".modal-window").remove(),$(".battlefield").removeClass("shadow")},1e3),setTimeout(s,2e3))})})}function S(){k()}function M(){$(".health-bars").remove(),$(".field").remove(),$("body").append(`\n        <section class='health-bars'>\n            <div class='max-health'>\n                <div class='health player-health'>100/100</div>\n            </div>\n            <div class='max-health'>\n                <div class='health monster-health'>${100+10*r}/${100+10*r}</div>\n            </div>\n            <p class='name'>${N.firstName} ${N.lastName}</p>\n            <p class='name'>${`${a[o(6)]} ${l[o(6)]} ${i[o(6)]}`}</p>\n        </section>\n        <div class = 'field'> \n        </div>`),$(".field").append("<img src='./style/img/mage.jpg.png' alt='hero' class='mage'> "),$(".field").append(`<img src='./style/img/weapon${o(3)}.png' alt='hero' class='monster-weapon'> `),$(".field").append(`<img src='./style/img/body${o(3)}.png' alt='hero' class='monster-body'> `),$(".field").append(`<img src='./style/img/head${o(3)}.png' alt='hero' class='monster-head'> `),$(".battlefield").html("\n        <div class='fight'>Fight!</div>\n    "),$(".fight").click(function(){S()})}n.d(e,"login",function(){return T}),n.d(e,"user",function(){return N});let N={};function T(){$(".battlefield").html("\n      <section class='registration-wrapper'>\n          <table class='registration'>\n            <tr class='first-name-box'>\n                <td>First Name:</td>\n                <td><input type=\"text\" id ='first-name' name=\"first-name\"></td>\n            </tr>\n            <tr class='last-name-box'>\n                <td>Last Name:</label></td>\n                <td><input type=\"text\" id ='last-name' name=\"last-name\"></td>\n            </tr>\n            <tr class='email-box'>\n                <td>Email:</td>\n                <td><input **type=\"email\"** id = 'email' name=\"email\"></td>\n            </tr>\n            <tr class='submit'>\n                <td>\n                <input type=\"button\" id='submit' value=\"Submit!\">\n                </td>\n            </tr>\n          </table>\n          <div class='hello'></div>\n      </section>\n      <div class='start'>Start!</div>\n    "),function(){null!==localStorage.getItem("first-name")&&(N.firstName=localStorage.getItem("first-name"),N.lastName=localStorage.getItem("last-name"),N.email=localStorage.getItem("email"),document.getElementById("first-name").value=localStorage.getItem("first-name"),document.getElementById("last-name").value=localStorage.getItem("last-name"),document.getElementById("email").value=localStorage.getItem("email"));$("#submit").click(function(){N.firstName=$("#first-name").val(),N.lastName=$("#last-name").val(),N.email=$("#email").val(),$(".hello").html(`<div class = 'hello'>Hello, ${N.firstName}!</div>`),localStorage.setItem("first-name",N.firstName),localStorage.setItem("last-name",N.lastName),localStorage.setItem("email",N.email)})}()}T(),$(".start").click(function(){M()})}]);