var home=function(t){var e={};function a(l){if(e[l])return e[l].exports;var n=e[l]={i:l,l:!1,exports:{}};return t[l].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,l){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:l})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(l,n,function(e){return t[e]}.bind(null,n));return l},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t){t.exports={cat:["кот","кошка","котик"],dog:["собака","пес","песик"],mouse:["мышь","мышка"],elephant:["слон","слоник"],lion:["лев","львица"],tiger:["тигр"],hippo:["гиппопотам","бегемот"],zebra:["зебра"],raccon:["енот"],badger:["барсук"]}},function(t,e,a){"use strict";a.r(e);const l=["Мерзкий","Жуткий","Вонючий","Жалкий","Огромный","Розовый"],n=["Гнолл","Орк","Бард","Приятель","Тролль","Василиск"],i=["Петька","Васька","Святозар","Архимонд","Алеша","Горыныч"];function s(t){return Math.floor(Math.random()*t)}function o(){$(".field").append("\n        <img class='mud attack' id='mud' src='./style/img/mud.png'>\n    "),function(){let t=new Audio;t.src="./style/audio/audio-monster.mp3",t.autoplay=!0}(),setTimeout(r,500),setTimeout(u,2800)}function r(){let t=Date.now(),e=setInterval(function(){let a=Date.now()-t;$("#mud").css("right",`${170+a/2+"px"}`),$("#mud").css("width",`${50+a/30+"px"}`),$("#mud").css("height",`${50+a/30+"px"}`),a>1650&&clearInterval(e)},20)}let d=0;let m=[];function c(){let t;(t=7==$(".monster-health").html().length?+$(".monster-health").html().substr(0,3)-(Math.floor(21*Math.random())+30):6==$(".monster-health").html().length?+$(".monster-health").html().substr(0,2)-(Math.floor(21*Math.random())+30):+$(".monster-health").html().substr(0,1)-(Math.floor(21*Math.random())+30))<0&&(t=0),$(".monster-health").html(`${t}/100`),$(".monster-health").css("width",`${3*t}`),$(".attack").remove(),0==t?(d++,$(".battlefield").addClass("shadow"),$(".battlefield").html(`\n        <section class='win-wrapper'>\n            <p>Congratilations!</p>\n            <p>Monster killed: ${d}.</p>\n            <div class='fight' style='margin-top: 100px'>Next fight!</div>\n        </section>\n    `),$(".fight").click(function(){$(".health-bars").remove(),$(".field").remove(),x()})):setTimeout(o,1500)}function u(){let t;(t=7==$(".player-health").html().length?+$(".player-health").html().substr(0,3)-(Math.floor(21*Math.random())+15):6==$(".player-health").html().length?+$(".player-health").html().substr(0,2)-(Math.floor(21*Math.random())+15):+$(".player-health").html().substr(0,1)-(Math.floor(21*Math.random())+15))<0&&(t=0),$(".player-health").html(`${t}/100`),$(".player-health").css("width",`${3*t}`),$(".attack").remove(),0==t?function(){let t=d+" monsters - "+I.lastName+" "+I.firstName+" ("+I.email+").";if(0==m.length)m.push(t);else if(m.length<5){let e=m.length;for(let a=0;a<=e;a++){if(parseFloat(m[a])<parseFloat(t)){let e=m[a];m[a]=t,t=e}void 0==m[a]&&void 0!==t&&(m[a]=t)}}else for(let e=0;e<=5;e++)if(parseFloat(m[e])<parseFloat(t)){let a=m[e];m[e]=t,t=a}localStorage.setItem("records",JSON.stringify(m)),$(".battlefield").addClass("shadow"),$(".battlefield").html("<section class='records-wrapper'>\n            <h1>You lose.</h1>\n            <div class='records'>\n                <h2> Records: </h2>\n                <ol>\n                  <li></li>\n                  <li></li>\n                  <li></li>\n                  <li></li>\n                  <li></li>\n                </ol>\n            </div>\n        </section>\n        <div class='start new-start' style='margin: -100px auto'>New Game!</div>\n        <div class='start login' style='margin: 130px auto'>New Login!</div>");for(let t=1;t<=m.length;t++)$(`.records li:nth-child(${t})`).html(JSON.parse(localStorage.getItem("records"))[`${t-1}`]);$(".new-start").click(x),$(".login").click(function(){$(".health-bars").remove(),$(".field").remove(),k()})}():setTimeout(w,2e3)}function h(t){let e=new Audio;1==t?e.src="./style/audio/audio-plus.mp3":2==t&&(e.src="./style/audio/audio-english.mp3"),e.autoplay=!0}null!==localStorage.getItem("records")&&(m=JSON.parse(localStorage.getItem("records")));let f=["+","-","*","/"];function p(){let t=f[g(0,3)],e=0,a=0,l=0;switch(t){case"+":e=g(1,999),a=g(1,999),l=e+a;break;case"-":e=g(1,999),a=g(1,999),l=e-a;break;case"*":e=g(1,99),a=g(1,9),l=e*a;break;case"/":l=g(1,99),e=(a=g(1,9))*l}$(".battlefield").html(`\n        <div class='modal-window'>\n            <p> ${e} ${t} ${a} = <input type="text" size="2" id='player-result' value=''> ?</p>\n            <input type="button" id='submit' value="Ответить">\n        </div>\n    `),$("#submit").click(function(){l==$("#player-result").val()?($(".modal-window").css("background","green"),setTimeout(function(){$(".modal-window").remove(),$(".battlefield").removeClass("shadow"),$(".field").append("<img src='./style/img/plus.png' alt='hero' class='plus attack'> "),h(1),setTimeout(function(){let t=Date.now(),e=setInterval(function(){let a=Date.now()-t;$(".plus").css("left",`${130+a/2+"px"}`),a>1700&&clearInterval(e)},20)}(),1e3),setTimeout(function(){c()},2100)},1e3)):($(".modal-window").css("background","red"),setTimeout(function(){$(".modal-window").remove(),$(".battlefield").removeClass("shadow")},1e3),setTimeout(o,2e3))})}function g(t,e){return Math.floor(Math.random()*(e-t+1))+t}var v=a(0);let b;function y(){b=Object.keys(v)[Math.floor(10*Math.random())],$(".battlefield").html(`\n        <div class='modal-window'>\n            <p class='translate'>Переведите слово <i><b>${b}</b></i> на русский.</p>\n            <input type="text" size="5" id='player-answer' value=''>\n            <input type="button" id='submit' value="Ответить">\n        </div>\n    `),$("#submit").click(function(){-1!==v[b].indexOf($("#player-answer").val())?($(".modal-window").css("background","green"),setTimeout(function(){$(".modal-window").remove(),$(".battlefield").removeClass("shadow"),$(".field").append("<img src='./style/img/english-spell.png' alt='spell' class='dictionary attack'> "),h(2),setTimeout(function(){let t=Date.now(),e=setInterval(function(){let a=Date.now()-t;$(".dictionary").css("left",`${130+a/2+"px"}`),$(".dictionary").css("bottom",`${190+a/4+"px"}`),a>850&&(clearInterval(e),t=Date.now(),e=setInterval(function(){a=Date.now()-t,$(".dictionary").css("left",`${555+a/2+"px"}`),$(".dictionary").css("bottom",`${402-a/4+"px"}`),a>850&&clearInterval(e)},20))})}(),1e3),setTimeout(function(){c()},2100)},1e3)):($(".modal-window").css("background","red"),setTimeout(function(){$(".modal-window").remove(),$(".battlefield").removeClass("shadow")},1e3),setTimeout(o,2e3))})}function w(){$(".fight").remove(),$(".battlefield").addClass("shadow"),$(".battlefield").html("\n        <table class='modal-table'>\n            <tr><td id='math'>Арифметическое заклинание</td></tr>\n            <tr><td id='english'>Английское заклинание</td></tr>\n        </table>\n    "),$("#math").click(function(){p()}),$("#english").click(function(){y()})}function x(){$(".health-bars").remove(),$(".field").remove(),$("body").append(`\n        <section class='health-bars'>\n            <div class='max-health'>\n                <div class='health player-health'>100/100</div>\n            </div>\n            <div class='max-health'>\n                <div class='health monster-health'>${100+10*d}/${100+10*d}</div>\n            </div>\n            <p class='name'>${I.firstName} ${I.lastName}</p>\n            <p class='name'>${`${l[s(6)]} ${n[s(6)]} ${i[s(6)]}`}</p>\n        </section>\n        <div class = 'field'> \n        </div>`),$(".field").append("<img src='./style/img/mage.jpg.png' alt='hero' class='mage'> "),$(".field").append(`<img src='./style/img/weapon${s(3)}.png' alt='hero' class='monster-weapon'> `),$(".field").append(`<img src='./style/img/body${s(3)}.png' alt='hero' class='monster-body'> `),$(".field").append(`<img src='./style/img/head${s(3)}.png' alt='hero' class='monster-head'> `),$(".battlefield").html("\n        <div class='fight'>Fight!</div>\n    "),$(".fight").click(function(){w()})}a.d(e,"login",function(){return k}),a.d(e,"user",function(){return I});let I={};function k(){$(".battlefield").html("\n      <section class='registration-wrapper'>\n          <table class='registration'>\n            <tr class='first-name-box'>\n                <td>First Name:</td>\n                <td><input type=\"text\" id ='first-name' name=\"first-name\"></td>\n            </tr>\n            <tr class='last-name-box'>\n                <td>Last Name:</label></td>\n                <td><input type=\"text\" id ='last-name' name=\"last-name\"></td>\n            </tr>\n            <tr class='email-box'>\n                <td>Email:</td>\n                <td><input **type=\"email\"** id = 'email' name=\"email\"></td>\n            </tr>\n            <tr class='submit'>\n                <td>\n                <input type=\"button\" id='submit' value=\"Submit!\">\n                </td>\n            </tr>\n          </table>\n          <div class='hello'></div>\n      </section>\n      <div class='start'>Start!</div>\n    "),null!==localStorage.getItem("first-name")&&(I.firstName=localStorage.getItem("first-name"),I.lastName=localStorage.getItem("last-name"),I.email=localStorage.getItem("email"),document.getElementById("first-name").value=localStorage.getItem("first-name"),document.getElementById("last-name").value=localStorage.getItem("last-name"),document.getElementById("email").value=localStorage.getItem("email")),$("#submit").click(function(){I.firstName=$("#first-name").val(),I.lastName=$("#last-name").val(),I.email=$("#email").val(),$(".hello").html(`<div class = 'hello'>Hello, ${I.firstName}!</div>`),localStorage.setItem("first-name",I.firstName),localStorage.setItem("last-name",I.lastName),localStorage.setItem("email",I.email)}),$(".start").click(function(){x()})}k()}]);